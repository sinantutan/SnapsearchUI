<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Snapsearch.Views.HistoryPage"
             Shell.BackgroundColor="#3F3D56">
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="History"></ToolbarItem>
    </ContentPage.ToolbarItems>
    <Shell.TitleView >
        <Grid 
                x:Name="LogoImageSvgGrid"
                Grid.Row="0"
                Grid.ColumnSpan="4"
                TranslationX="70"
            TranslationY="20"
                >
            <Path Data="M5.14 15.16C4.19333 15.16 3.36667 15.0667 2.66 14.88C1.95333 14.6933 1.4 14.4533 1 14.16C0.626667 13.9067 0.44 13.6533 0.44 13.4C0.44 13.2 0.513333 12.96 0.66 12.68C0.806667 12.4 0.98 12.1533 1.18 11.94C1.38 11.7267 1.54667 11.62 1.68 11.62C1.76 11.62 1.94667 11.7 2.24 11.86C2.66667 12.0733 3.05333 12.24 3.4 12.36C3.74667 12.48 4.15333 12.54 4.62 12.54C5.14 12.54 5.58 12.44 5.94 12.24C6.31333 12.0267 6.5 11.66 6.5 11.14C6.5 10.7133 6.32667 10.38 5.98 10.14C5.64667 9.88667 5.1 9.60667 4.34 9.3L3.42 8.9C2.58 8.5 1.92 8.00667 1.44 7.42C0.96 6.82 0.72 5.97333 0.72 4.88C0.72 3.97333 0.94 3.22 1.38 2.62C1.83333 2.00667 2.42 1.56 3.14 1.28C3.86 0.986666 4.63333 0.84 5.46 0.84C6.14 0.84 6.75333 0.913333 7.3 1.06C7.86 1.19333 8.3 1.37333 8.62 1.6C8.91333 1.81333 9.06 2.02667 9.06 2.24C9.06 2.42667 9 2.66 8.88 2.94C8.76 3.22 8.61333 3.46667 8.44 3.68C8.26667 3.88 8.10667 3.98 7.96 3.98C7.89333 3.98 7.78 3.94667 7.62 3.88C7.47333 3.81333 7.34667 3.76 7.24 3.72C6.76 3.56 6.26 3.48 5.74 3.48C5.04667 3.48 4.56 3.59333 4.28 3.82C4.01333 4.04667 3.88 4.30667 3.88 4.6C3.88 4.94667 3.97333 5.23333 4.16 5.46C4.34667 5.68667 4.57333 5.87333 4.84 6.02C5.10667 6.15333 5.5 6.33333 6.02 6.56C6.78 6.88 7.4 7.18667 7.88 7.48C8.36 7.76 8.77333 8.17333 9.12 8.72C9.48 9.25333 9.66 9.94 9.66 10.78C9.66 11.8067 9.44 12.6467 9 13.3C8.57333 13.9533 8.02 14.4267 7.34 14.72C6.66 15.0133 5.92667 15.16 5.14 15.16ZM14.58 15.04C13.78 15.04 13.38 14.8267 13.38 14.4V1.6C13.38 1.17333 13.78 0.96 14.58 0.96H15.44C15.76 0.96 16.0267 0.999999 16.24 1.08C16.4533 1.14667 16.6267 1.28667 16.76 1.5L21.26 8.44C21.5267 8.82667 21.7667 9.22 21.98 9.62L22.06 9.6C22.0333 9.29333 22.02 8.84 22.02 8.24V1.6C22.02 1.17333 22.42 0.96 23.22 0.96H23.8C24.6 0.96 25 1.17333 25 1.6V14.4C25 14.8267 24.6 15.04 23.8 15.04H23.04C22.72 15.04 22.4533 15.0067 22.24 14.94C22.0267 14.86 21.8533 14.7133 21.72 14.5L17.12 7.46C16.8533 7.07333 16.6133 6.68 16.4 6.28L16.32 6.3C16.3467 6.60667 16.36 7.06 16.36 7.66V14.4C16.36 14.8267 15.96 15.04 15.16 15.04H14.58ZM29.595 15.04C28.7817 15.04 28.375 14.8933 28.375 14.6C28.375 14.5467 28.4017 14.4267 28.455 14.24L32.855 1.38C32.9617 1.1 33.3417 0.96 33.995 0.96H35.035C35.7017 0.96 36.0817 1.1 36.175 1.38L40.575 14.24C40.615 14.3733 40.635 14.4933 40.635 14.6C40.635 14.8933 40.3017 15.04 39.635 15.04H38.755C38.1017 15.04 37.7283 14.9 37.635 14.62L36.835 12.18H32.115L31.315 14.62C31.2217 14.9 30.915 15.04 30.395 15.04H29.595ZM35.975 9.54L34.835 5.98C34.7417 5.71333 34.6417 5.28667 34.535 4.7H34.455C34.4417 4.78 34.4083 4.96 34.355 5.24C34.315 5.50667 34.2483 5.75333 34.155 5.98L32.975 9.54H35.975ZM45.2206 15.04C44.4206 15.04 44.0206 14.8267 44.0206 14.4V1.8C44.0206 1.52 44.0806 1.32 44.2006 1.2C44.334 1.06667 44.5406 0.999999 44.8206 0.999999H49.0206C50.274 0.999999 51.3806 1.30667 52.3406 1.92C53.3006 2.52 53.7806 3.67333 53.7806 5.38C53.7806 6.55333 53.5006 7.46667 52.9406 8.12C52.3806 8.76 51.754 9.19333 51.0606 9.42C50.3673 9.64667 49.754 9.76 49.2206 9.76H47.1006V14.4C47.1006 14.8267 46.7006 15.04 45.9006 15.04H45.2206ZM48.8806 7.12C49.3606 7.12 49.7673 6.99333 50.1006 6.74C50.4473 6.48667 50.6206 6.03333 50.6206 5.38C50.6206 4.72667 50.4473 4.27333 50.1006 4.02C49.7673 3.75333 49.3606 3.62 48.8806 3.62H47.1006V7.12H48.8806ZM61.1869 15.16C60.2402 15.16 59.4135 15.0667 58.7069 14.88C58.0002 14.6933 57.4469 14.4533 57.0469 14.16C56.6735 13.9067 56.4869 13.6533 56.4869 13.4C56.4869 13.2 56.5602 12.96 56.7069 12.68C56.8535 12.4 57.0269 12.1533 57.2269 11.94C57.4269 11.7267 57.5935 11.62 57.7269 11.62C57.8069 11.62 57.9935 11.7 58.2869 11.86C58.7135 12.0733 59.1002 12.24 59.4469 12.36C59.7935 12.48 60.2002 12.54 60.6669 12.54C61.1869 12.54 61.6269 12.44 61.9869 12.24C62.3602 12.0267 62.5469 11.66 62.5469 11.14C62.5469 10.7133 62.3735 10.38 62.0269 10.14C61.6935 9.88667 61.1469 9.60667 60.3869 9.3L59.4669 8.9C58.6269 8.5 57.9669 8.00667 57.4869 7.42C57.0069 6.82 56.7669 5.97333 56.7669 4.88C56.7669 3.97333 56.9869 3.22 57.4269 2.62C57.8802 2.00667 58.4669 1.56 59.1869 1.28C59.9069 0.986666 60.6802 0.84 61.5069 0.84C62.1869 0.84 62.8002 0.913333 63.3469 1.06C63.9069 1.19333 64.3469 1.37333 64.6669 1.6C64.9602 1.81333 65.1069 2.02667 65.1069 2.24C65.1069 2.42667 65.0469 2.66 64.9269 2.94C64.8069 3.22 64.6602 3.46667 64.4869 3.68C64.3135 3.88 64.1535 3.98 64.0069 3.98C63.9402 3.98 63.8269 3.94667 63.6669 3.88C63.5202 3.81333 63.3935 3.76 63.2869 3.72C62.8069 3.56 62.3069 3.48 61.7869 3.48C61.0935 3.48 60.6069 3.59333 60.3269 3.82C60.0602 4.04667 59.9269 4.30667 59.9269 4.6C59.9269 4.94667 60.0202 5.23333 60.2069 5.46C60.3935 5.68667 60.6202 5.87333 60.8869 6.02C61.1535 6.15333 61.5469 6.33333 62.0669 6.56C62.8269 6.88 63.4469 7.18667 63.9269 7.48C64.4069 7.76 64.8202 8.17333 65.1669 8.72C65.5269 9.25333 65.7069 9.94 65.7069 10.78C65.7069 11.8067 65.4869 12.6467 65.0469 13.3C64.6202 13.9533 64.0669 14.4267 63.3869 14.72C62.7069 15.0133 61.9735 15.16 61.1869 15.16ZM70.3869 15C70.1069 15 69.9002 14.94 69.7669 14.82C69.6469 14.6867 69.5869 14.48 69.5869 14.2V1.8C69.5869 1.52 69.6469 1.32 69.7669 1.2C69.9002 1.06667 70.1069 0.999999 70.3869 0.999999H77.4069C77.6202 0.999999 77.7735 1.08 77.8669 1.24C77.9602 1.4 78.0069 1.65333 78.0069 2V2.62C78.0069 2.96667 77.9602 3.22 77.8669 3.38C77.7735 3.54 77.6202 3.62 77.4069 3.62H72.6669V6.52H76.8669C77.0802 6.52 77.2335 6.6 77.3269 6.76C77.4202 6.92 77.4669 7.17333 77.4669 7.52V8.14C77.4669 8.48667 77.4202 8.74 77.3269 8.9C77.2335 9.06 77.0802 9.14 76.8669 9.14H72.6669V12.38H77.4269C77.6402 12.38 77.7935 12.46 77.8869 12.62C77.9802 12.78 78.0269 13.0333 78.0269 13.38V14C78.0269 14.3467 77.9802 14.6 77.8869 14.76C77.7935 14.92 77.6402 15 77.4269 15H70.3869ZM82.1848 15.04C81.3715 15.04 80.9648 14.8933 80.9648 14.6C80.9648 14.5467 80.9915 14.4267 81.0448 14.24L85.4448 1.38C85.5515 1.1 85.9315 0.96 86.5848 0.96H87.6248C88.2915 0.96 88.6715 1.1 88.7648 1.38L93.1648 14.24C93.2048 14.3733 93.2248 14.4933 93.2248 14.6C93.2248 14.8933 92.8915 15.04 92.2248 15.04H91.3448C90.6915 15.04 90.3182 14.9 90.2248 14.62L89.4248 12.18H84.7048L83.9048 14.62C83.8115 14.9 83.5048 15.04 82.9848 15.04H82.1848ZM88.5648 9.54L87.4248 5.98C87.3315 5.71333 87.2315 5.28667 87.1248 4.7H87.0448C87.0315 4.78 86.9982 4.96 86.9448 5.24C86.9048 5.50667 86.8382 5.75333 86.7448 5.98L85.5648 9.54H88.5648ZM97.8105 15.04C97.0105 15.04 96.6105 14.8267 96.6105 14.4V1.8C96.6105 1.52 96.6705 1.32 96.7905 1.2C96.9238 1.06667 97.1305 0.999999 97.4105 0.999999H101.31C104.63 0.999999 106.29 2.25333 106.29 4.76C106.29 5.50667 106.077 6.16 105.65 6.72C105.237 7.26667 104.67 7.67333 103.95 7.94V8.02C104.204 8.11333 104.464 8.34 104.73 8.7C104.997 9.04667 105.217 9.43333 105.39 9.86L107.15 14.26C107.217 14.4333 107.25 14.56 107.25 14.64C107.25 14.76 107.15 14.86 106.95 14.94C106.75 15.0067 106.45 15.04 106.05 15.04H105.23C104.577 15.04 104.19 14.9 104.07 14.62L102.49 10.72C102.264 10.28 102.017 9.97333 101.75 9.8C101.497 9.61333 101.07 9.52 100.47 9.52H99.6905V14.4C99.6905 14.8267 99.2905 15.04 98.4905 15.04H97.8105ZM101.59 6.86C102.004 6.86 102.364 6.69333 102.67 6.36C102.977 6.02667 103.13 5.62 103.13 5.14C103.13 4.67333 102.977 4.30667 102.67 4.04C102.377 3.76 101.97 3.62 101.45 3.62H99.6905V6.86H101.59ZM116.722 15.16C114.482 15.16 112.822 14.58 111.742 13.42C110.676 12.2467 110.142 10.4267 110.142 7.96C110.142 3.21333 112.369 0.84 116.822 0.84C117.489 0.84 118.169 0.913333 118.862 1.06C119.556 1.19333 120.096 1.37333 120.482 1.6C120.829 1.8 121.002 2.01333 121.002 2.24C121.002 2.42667 120.929 2.67333 120.782 2.98C120.636 3.27333 120.456 3.54 120.242 3.78C120.042 4.00667 119.862 4.12 119.702 4.12C119.662 4.12 119.502 4.06 119.222 3.94C118.942 3.82 118.602 3.71333 118.202 3.62C117.802 3.52667 117.322 3.48 116.762 3.48C115.589 3.48 114.716 3.85333 114.142 4.6C113.582 5.34667 113.302 6.47333 113.302 7.98C113.302 11.02 114.442 12.54 116.722 12.54C117.322 12.54 117.842 12.48 118.282 12.36C118.722 12.24 119.149 12.0867 119.562 11.9C119.776 11.7933 119.922 11.74 120.002 11.74C120.202 11.74 120.389 11.8533 120.562 12.08C120.749 12.3067 120.896 12.5667 121.002 12.86C121.122 13.14 121.182 13.3467 121.182 13.48C121.182 13.8267 120.949 14.1333 120.482 14.4C120.042 14.6533 119.462 14.8467 118.742 14.98C118.022 15.1 117.349 15.16 116.722 15.16ZM126.365 15.04C125.565 15.04 125.165 14.8267 125.165 14.4V1.6C125.165 1.17333 125.565 0.96 126.365 0.96H127.065C127.865 0.96 128.265 1.17333 128.265 1.6V6.54H133.665V1.6C133.665 1.17333 134.065 0.96 134.865 0.96H135.565C136.365 0.96 136.765 1.17333 136.765 1.6V14.4C136.765 14.8267 136.365 15.04 135.565 15.04H134.865C134.065 15.04 133.665 14.8267 133.665 14.4V9.18H128.265V14.4C128.265 14.8267 127.865 15.04 127.065 15.04H126.365Z" Fill="GhostWhite"/>
        </Grid>
    </Shell.TitleView>

    <ContentPage.Content>
        <Grid>
            <!-- Bottom Gradient -->

            <Frame

                    VerticalOptions="Start"
                HeightRequest="800" 
                    >
                <Frame.Background>
                    <!--  StartPoint defaults to (0,0)  -->
                    <LinearGradientBrush  >
                        <GradientStop Color="#3F3D56"
                  Offset="0.0" />
                        <GradientStop Color="#3F3D56"
                  Offset="0.00001" />
                        <GradientStop Color="DarkOrange"
                  Offset="0.00002" />
                        <GradientStop Color="Purple"
                  Offset="0.1" />

                    </LinearGradientBrush>
                </Frame.Background>
            </Frame>
            <StackLayout>
                <Label  Text="You can find a collection of your previous searches here. 
                        If you want to erase your history, you can do this by cleaning your application data"
                VerticalOptions="CenterAndExpand" 
                        TextColor="GhostWhite"
                        HorizontalTextAlignment="Center"
                HorizontalOptions="CenterAndExpand" Margin="0,10,0,20" />
                <BoxView HorizontalOptions="Center" HeightRequest="1" Color="GhostWhite" WidthRequest="200"></BoxView>


                <CollectionView ItemsSource="{Binding HistoryItems}">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <StackLayout>
                                <Frame BorderColor="Black" Margin="10,0,10,0" CornerRadius="16">
                                    <Frame.Background>
                                        <!--  StartPoint defaults to (0,0)  -->
                                        <LinearGradientBrush  >
                                            <GradientStop Color="Orange"
                  Offset="0.1" />

                                            <GradientStop Color="Purple"
                  Offset="1.0" />


                                        </LinearGradientBrush>
                                    </Frame.Background>
                                    <StackLayout Orientation="Horizontal">
                                        <Grid>
                                            <Frame HeightRequest="172" WidthRequest="172" BackgroundColor="Black" Margin="20,5,20,5" CornerRadius="16"></Frame>
                                            <ImageButton x:Name="CollectionHistoryItem" Source="{Binding Path= Path }" HeightRequest="170" WidthRequest="170" Clicked="CollectionHistoryItem_Clicked" BackgroundColor="Transparent" Margin="20,5,20,5"/>
                                        </Grid>
                                
                                <Label 
                                    VerticalOptions="Center" TextColor="GhostWhite" Text="{Binding Path=DateCreated}"></Label>
                                

                            </StackLayout>
                                </Frame>
                                <BoxView HorizontalOptions="Center" HeightRequest="1" Color="GhostWhite" WidthRequest="200" Margin="0,5,0,5"></BoxView>
                            </StackLayout>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </StackLayout>
        </Grid>

        
    </ContentPage.Content>
</ContentPage>